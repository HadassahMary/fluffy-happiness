<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Will you be my Valentine?</title>
		<style>
			:root {
				--bg1: #fff3f7;
				--bg2: #ffe3ee;
				--ink: #2b1b24;
				--muted: rgba(43, 27, 36, 0.7);
				--yes1: #ff3d7f;
				--yes2: #ff6aa2;
				--deep-red: #7a0b2c;
				--no1: rgba(43, 27, 36, 0.08);
				--card: rgba(255, 255, 255, 0.72);
				--stroke: rgba(43, 27, 36, 0.12);
			}

			* {
				box-sizing: border-box;
			}

			html,
			body {
				height: 100%;
			}

			body {
				margin: 0;
				font-family:
					ui-rounded,
					system-ui,
					-apple-system,
					Segoe UI,
					Roboto,
					Helvetica,
					Arial,
					"Apple Color Emoji",
					"Segoe UI Emoji";
				color: var(--ink);
				background: radial-gradient(1200px 800px at 20% 10%, var(--bg1), transparent 60%),
					radial-gradient(1000px 700px at 80% 20%, var(--bg2), transparent 55%),
					linear-gradient(180deg, #fff 0%, #fff1f6 100%);
				overflow: hidden;
			}

			.hearts {
				position: fixed;
				inset: 0;
				pointer-events: none;
				opacity: 0.9;
				filter: drop-shadow(0 10px 25px rgba(255, 61, 127, 0.12));
			}

			.heart {
				position: absolute;
				width: var(--size, 18px);
				height: var(--size, 18px);
				transform: translate3d(0, 0, 0) rotate(var(--rot, 0deg));
				opacity: var(--alpha, 0.25);
				animation:
					floatUp var(--dur, 14s) linear infinite,
					sway var(--swayDur, 3.8s) ease-in-out infinite;
				will-change: transform, opacity;
			}
			.heart img {
				width: 100%;
				height: 100%;
				display: block;
				object-fit: contain;
				filter: drop-shadow(0 10px 18px rgba(255, 61, 127, 0.15));
			}

			@keyframes floatUp {
				from {
					transform: translate3d(0, 0, 0) rotate(var(--rot, 0deg));
					opacity: 0.0;
				}
				10% {
					opacity: 0.9;
				}
				to {
					transform: translate3d(0, -160vh, 0) rotate(calc(var(--rot, 0deg) + 20deg));
					opacity: 0;
				}
			}

			@keyframes sway {
				0% {
					margin-left: 0;
				}
				50% {
					margin-left: var(--sway, 18px);
				}
				100% {
					margin-left: 0;
				}
			}

			.wrap {
				position: relative;
				height: 100%;
				display: grid;
				place-items: center;
				padding: 24px;
			}

			.card {
				width: min(720px, 92vw);
				background: var(--card);
				border: 1px solid var(--stroke);
				border-radius: 24px;
				padding: clamp(20px, 4vw, 34px);
				backdrop-filter: blur(10px);
				box-shadow: 0 20px 80px rgba(43, 27, 36, 0.12);
			}

			.badge {
				display: inline-flex;
				align-items: center;
				gap: 10px;
				padding: 10px 14px;
				border: 1px solid var(--stroke);
				background: rgba(255, 255, 255, 0.7);
				border-radius: 999px;
				font-weight: 650;
				letter-spacing: 0.2px;
			}
			.badge .dot {
				width: 10px;
				height: 10px;
				border-radius: 50%;
				background: linear-gradient(135deg, var(--yes1), var(--yes2));
				box-shadow: 0 10px 25px rgba(255, 61, 127, 0.28);
			}

			/* Full-screen Yes takeover */
			.yes-takeover {
				position: fixed !important;
				left: 50% !important;
				top: 50% !important;
				right: auto !important;
				bottom: auto !important;
				transform: translate(-50%, -50%) !important;
				width: min(980px, 92vw) !important;
				height: min(240px, 32vh) !important;
				max-width: 92vw !important;
				border-radius: 120px !important;
				padding: 26px 22px !important;
				font-size: clamp(40px, 8.5vw, 74px) !important;
				z-index: 50;
				display: grid;
				place-items: center;
				text-align: center;
				color: var(--deep-red) !important;
                background: linear-gradient(135deg, var(--bg2), var(--bg2)) !important;
				text-shadow: 0 1px 0 rgba(255, 255, 255, 0.65);
				box-shadow: 0 30px 120px rgba(255, 61, 127, 0.28) !important;
				line-height: 1.05;
			}

			.yes-takeover::before {
				content: none;
			}

			.yes-takeover::after {
				content: none;
			}

			.hidden {
				display: none !important;
			}

			.success {
				position: fixed;
				inset: 0;
				z-index: 70;
				display: none;
				place-items: center;
				padding: 22px;
				background: radial-gradient(1100px 700px at 50% 35%, rgba(255, 255, 255, 0.92), rgba(255, 240, 246, 0.96));
			}

			.success.show {
				display: grid;
			}

			.success-card {
				width: min(520px, 92vw);
				background: rgba(255, 255, 255, 0.78);
				border: 1px solid rgba(43, 27, 36, 0.12);
				border-radius: 22px;
				padding: 18px 18px;
				box-shadow: 0 22px 90px rgba(43, 27, 36, 0.14);
				text-align: center;
			}

			.success-card h2 {
				margin: 0 0 6px;
				font-size: 24px;
			}

			.success-card p {
				margin: 0;
				color: rgba(43, 27, 36, 0.75);
			}

			.success-card img {
				margin-top: 12px;
				width: 100%;
				border-radius: 16px;
				border: 1px solid rgba(43, 27, 36, 0.10);
				box-shadow: 0 18px 50px rgba(43, 27, 36, 0.10);
				display: block;
			}

			h1 {
				margin: 14px 0 10px;
				font-size: clamp(28px, 5vw, 44px);
				line-height: 1.08;
				letter-spacing: -0.6px;
			}

			p {
				margin: 0;
				color: var(--muted);
				font-size: clamp(14px, 2.1vw, 18px);
				line-height: 1.55;
			}

			.prompt {
				margin-top: 18px;
				font-weight: 700;
				color: rgba(43, 27, 36, 0.86);
			}

			.playground {
				position: relative;
				margin-top: 22px;
				height: clamp(200px, 30vh, 260px);
				border-radius: 18px;
				border: 1px dashed rgba(255, 61, 127, 0.25);
				background: rgba(255, 255, 255, 0.55);
				overflow: hidden;
			}

			.btn {
				appearance: none;
				border: none;
				cursor: pointer;
				border-radius: 999px;
				font-weight: 800;
				letter-spacing: 0.2px;
				padding: 14px 18px;
				font-size: 16px;
				min-height: 48px;
				transition:
					transform 160ms ease,
					filter 160ms ease,
					box-shadow 160ms ease,
					background 160ms ease;
				user-select: none;
				-webkit-tap-highlight-color: transparent;
			}

			.btn:focus-visible {
				outline: 3px solid rgba(255, 61, 127, 0.35);
				outline-offset: 3px;
			}

			.btn-yes {
				position: absolute;
				left: 16px;
				top: 50%;
				transform: translateY(-50%) scale(var(--yes-scale, 1));
				color: white;
				background: linear-gradient(135deg, var(--yes1), var(--yes2));
				box-shadow: 0 16px 40px rgba(255, 61, 127, 0.24);
				transform-origin: left center;
			}

			.btn-yes:hover {
				filter: brightness(1.02);
				transform: translateY(calc(-50% - 1px)) scale(var(--yes-scale, 1));
			}

			.btn-no {
				position: absolute;
				right: 16px;
				top: 50%;
				transform: translateY(-50%);
				color: rgba(43, 27, 36, 0.84);
				background: rgba(43, 27, 36, 0.06);
				border: 1px solid rgba(43, 27, 36, 0.12);
				box-shadow: 0 10px 22px rgba(43, 27, 36, 0.06);
			}

			.btn-no:hover {
				background: rgba(43, 27, 36, 0.08);
			}

			.status {
				margin-top: 14px;
				min-height: 54px;
				padding: 12px 14px;
				border-radius: 16px;
				border: 1px solid rgba(43, 27, 36, 0.10);
				background: rgba(255, 255, 255, 0.65);
				display: grid;
				gap: 6px;
			}
			.status strong {
				font-size: 14px;
				letter-spacing: 0.2px;
			}
			.status span {
				font-size: 14px;
				color: var(--muted);
			}

			.done {
				display: none;
				margin-top: 18px;
				padding: 16px 16px;
				border-radius: 18px;
				border: 1px solid rgba(255, 61, 127, 0.22);
				background: rgba(255, 240, 246, 0.75);
			}

			.shake {
				animation: shake 420ms ease-in-out;
			}

			@keyframes shake {
				0% {
					transform: translate3d(0, 0, 0);
				}
				15% {
					transform: translate3d(-4px, 1px, 0) rotate(-0.6deg);
				}
				35% {
					transform: translate3d(5px, -1px, 0) rotate(0.7deg);
				}
				55% {
					transform: translate3d(-3px, 2px, 0) rotate(-0.4deg);
				}
				75% {
					transform: translate3d(3px, -2px, 0) rotate(0.5deg);
				}
				100% {
					transform: translate3d(0, 0, 0);
				}
			}

			.sticker {
				position: absolute;
				left: 50%;
				top: 18px;
				transform: translateX(-50%);
				padding: 10px 12px;
				border-radius: 999px;
				border: 1px solid rgba(255, 61, 127, 0.20);
				background: rgba(255, 255, 255, 0.72);
				display: inline-flex;
				align-items: center;
				gap: 10px;
				box-shadow: 0 14px 40px rgba(255, 61, 127, 0.12);
				opacity: 0;
				pointer-events: none;
			}

			.sticker.show {
				opacity: 1;
				animation: pop 520ms ease;
			}

			@keyframes pop {
				0% {
					transform: translateX(-50%) scale(0.85);
				}
				60% {
					transform: translateX(-50%) scale(1.04);
				}
				100% {
					transform: translateX(-50%) scale(1);
				}
			}

			.sticker .beat {
				width: 22px;
				height: 22px;
				animation: beat 820ms ease-in-out infinite;
			}
			@keyframes beat {
				0% {
					transform: scale(1);
				}
				35% {
					transform: scale(1.22);
				}
				70% {
					transform: scale(1);
				}
				100% {
					transform: scale(1);
				}
			}

			.burst {
				position: absolute;
				width: 10px;
				height: 10px;
				pointer-events: none;
				opacity: 0.95;
				animation: burst 650ms ease-out forwards;
				will-change: transform, opacity;
			}
			.burst svg {
				width: 100%;
				height: 100%;
				display: block;
				fill: rgba(255, 61, 127, 0.95);
			}
			@keyframes burst {
				from {
					transform: translate3d(0, 0, 0) scale(0.9);
					opacity: 1;
				}
				to {
					transform: translate3d(var(--dx, 0), var(--dy, 0), 0) scale(0.7);
					opacity: 0;
				}
			}
			.done h2 {
				margin: 0 0 6px;
				font-size: 22px;
			}
			.done p {
				margin: 0;
			}

			.done .bears {
				margin-top: 12px;
				width: min(420px, 100%);
				border-radius: 16px;
				border: 1px solid rgba(43, 27, 36, 0.10);
				box-shadow: 0 18px 50px rgba(43, 27, 36, 0.10);
				display: block;
			}

			.confetti {
				position: fixed;
				inset: 0;
				pointer-events: none;
				overflow: hidden;
				z-index: 60;
			}

			.confetti i {
				position: absolute;
				width: 10px;
				height: 14px;
				opacity: 0.95;
				transform: translate3d(0, 0, 0) rotate(0deg);
				border-radius: 3px;
				animation: confettiFall var(--fall, 1200ms) ease-out forwards;
				will-change: transform, opacity;
			}

			@keyframes confettiFall {
				0% {
					transform: translate3d(var(--x, 0), -14px, 0) rotate(0deg);
					opacity: 1;
				}
				100% {
					transform: translate3d(calc(var(--x, 0) + var(--dx, 0)), 110vh, 0) rotate(var(--rot, 540deg));
					opacity: 0;
				}
			}

			.tiny {
				margin-top: 14px;
				font-size: 12px;
				color: rgba(43, 27, 36, 0.55);
			}

			@media (prefers-reduced-motion: reduce) {
				.heart {
					animation: none;
					display: none;
				}
				.btn {
					transition: none;
				}
			}

			@media (max-width: 520px) {
				.card {
					border-radius: 20px;
				}
				.playground {
					height: 260px;
				}
				.btn-yes,
				.btn-no {
					top: auto;
				}
				.btn-yes {
					transform: scale(var(--yes-scale, 1));
				}
				.btn-no {
					transform: none;
				}
				.btn-yes {
					left: 14px;
					right: 14px;
					top: 120px;
					width: calc(100% - 28px);
					justify-self: center;
				}
				.btn-no {
					left: 14px;
					right: 14px;
					top: 180px;
					width: calc(100% - 28px);
				}
			}
		</style>
	</head>
	<body>
		<div class="hearts" aria-hidden="true" id="hearts"></div>
		<div class="confetti" aria-hidden="true" id="confetti"></div>
		<div class="success" id="success" aria-live="polite" aria-atomic="true">
			<div class="success-card" role="group" aria-label="Success message">
				<h2>Thank you!!</h2>
				<p>Officially adorable. Jerin, you are my Valentine now! üíó</p>
				<img src="bears.gif" alt="Cute bears" />
			</div>
		</div>
		<main class="wrap">
			<section class="card" role="group" aria-label="Valentine ask">
				<h1>Hi Jerin, will you be my Valentine?</h1>
				<p>
					No pressure. Just a tiny, extremely adorable question.
				</p>
				<p class="prompt">Pick wisely (the buttons are‚Ä¶ emotionally invested).</p>

				<div class="playground" id="playground" aria-label="Buttons area">
					<div class="sticker" id="sticker" aria-hidden="true">
						<svg class="beat" viewBox="0 0 24 24" aria-hidden="true">
							<path
								d="M12 21s-7.2-4.44-9.6-8.28C.7 9.9 1.7 6.9 4.2 5.7c1.7-.84 3.8-.48 5.2.78 1.4-1.26 3.5-1.62 5.2-.78 2.5 1.2 3.5 4.2 1.8 7.02C19.2 16.56 12 21 12 21z"
							/>
						</svg>
						<span id="stickerText">Cute alert!</span>
					</div>
					<button class="btn btn-yes" id="yesBtn" type="button">Yes üíò</button>
					<button class="btn btn-no" id="noBtn" type="button">No üôÉ</button>
				</div>

				<div class="status" aria-live="polite" aria-atomic="true">
					<strong id="statusTitle">Status</strong>
					<span id="statusText">Click one. I‚Äôm totally normal about this.</span>
				</div>

				<div class="done" id="done">
					<h2>YAY!!</h2>
					<p>
						Officially adorable. See you on Valentine‚Äôs Day üíó
					</p>
					<img class="bears" id="bearsGif" src="bears.gif" alt="Cute bears" />
				</div>

				<div class="tiny">Tip: try ‚ÄúNo‚Äù if you like chaos.</div>
			</section>
		</main>

		<script>
			const playground = document.getElementById('playground');
			const yesBtn = document.getElementById('yesBtn');
			const noBtn = document.getElementById('noBtn');
			const statusTitle = document.getElementById('statusTitle');
			const statusText = document.getElementById('statusText');
			const done = document.getElementById('done');
			const sticker = document.getElementById('sticker');
			const stickerText = document.getElementById('stickerText');
			const card = document.querySelector('.card');
			const confettiLayer = document.getElementById('confetti');
			const heartsLayer = document.getElementById('hearts');
			const success = document.getElementById('success');
			const wrap = document.querySelector('main.wrap');

			const jokes = [
				"No? My spreadsheet says that's not an option.",
				"No detected. Deploying emotional support hearts‚Ä¶",
				"Bold choice. Incorrect, but bold.",
				"The 'No' button is feeling shy today.",
				"Hmm. The universe says: try again.",
				"Nope‚Ä¶ I mean, no is valid‚Ä¶ but also: look how big 'Yes' is getting.",
				"The 'No' button is on a break.",
				"I asked my lawyer (a teddy bear). They recommend 'Yes'.",
			];

			const stickerLines = [
				"Please reconsider, cutely.",
				"I brought snacks. Say yes?",
				"My heart is buffering‚Ä¶",
				"This is a rom-com now.",
				"I‚Äôm just a little heart, begging.",
				"No button? Never heard of her.",
			];

			let noCount = 0;
			let yesScale = 1;
			let noEnabled = true;
			let chaosLevel = 0;
			let yesTakeover = false;
			const takeoverAt = 4;

			const heartSvg = `
				<svg viewBox="0 0 24 24" aria-hidden="true">
					<path d="M12 21s-7.2-4.44-9.6-8.28C.7 9.9 1.7 6.9 4.2 5.7c1.7-.84 3.8-.48 5.2.78 1.4-1.26 3.5-1.62 5.2-.78 2.5 1.2 3.5 4.2 1.8 7.02C19.2 16.56 12 21 12 21z" />
				</svg>
			`;

			// Background floating hearts: use SVGs from ./hearts folder
			const floatingHeartSvgs = [
				'heart1.svg',
				'heart2.svg',
				'heart3.svg',
			];

			function pickRandom(arr) {
				return arr[Math.floor(Math.random() * arr.length)];
			}

			function clamp(value, min, max) {
				return Math.max(min, Math.min(max, value));
			}

			function setStatus(title, text) {
				statusTitle.textContent = title;
				statusText.textContent = text;
			}

			function randomInt(min, max) {
				return Math.floor(Math.random() * (max - min + 1)) + min;
			}

			function moveNoButton() {
				const pad = 10;
				const rect = playground.getBoundingClientRect();
				const btnRect = noBtn.getBoundingClientRect();

				const maxX = rect.width - btnRect.width - pad;
				const maxY = rect.height - btnRect.height - pad;

				const x = clamp(randomInt(pad, Math.max(pad, Math.floor(maxX))), pad, Math.max(pad, maxX));
				const y = clamp(randomInt(pad, Math.max(pad, Math.floor(maxY))), pad, Math.max(pad, maxY));

				noBtn.style.left = x + 'px';
				noBtn.style.top = y + 'px';
				noBtn.style.right = 'auto';
			}

			function growYesButton() {
				yesScale = clamp(yesScale + 0.18, 1, 3.6);
				yesBtn.style.setProperty('--yes-scale', String(yesScale));
				yesBtn.style.boxShadow = `0 22px 70px rgba(255, 61, 127, ${0.18 + yesScale * 0.08})`;
			}

			function enableYesTakeover() {
				if (yesTakeover) return;
				yesTakeover = true;

				yesBtn.textContent = 'Please Say Yes? üíó';

				// Make YES essentially unavoidable: full-screen overlay style.
				yesBtn.classList.add('yes-takeover');
				// Fade out "No" button once takeover happens (keep layout for burst math).
				noBtn.style.opacity = '0';
				noBtn.style.pointerEvents = 'none';
				// Also hide the playground to prevent accidental interactions under the overlay.
				playground.style.pointerEvents = 'none';
				yesBtn.style.pointerEvents = 'auto';

				setStatus('Decision Time', "Okay okay ‚Äî YES is now full-screen üòå");
			}

			function throwConfetti() {
				const colors = [
					getComputedStyle(document.documentElement).getPropertyValue('--yes1').trim() || '#ff3d7f',
					getComputedStyle(document.documentElement).getPropertyValue('--yes2').trim() || '#ff6aa2',
					'rgba(255,255,255,0.95)',
				];

				const pieces = 160;
				const w = window.innerWidth;
				for (let i = 0; i < pieces; i += 1) {
					const c = document.createElement('i');
					const x = Math.random() * w;
					const dx = (-120 + Math.random() * 240).toFixed(1) + 'px';
					const fall = (900 + Math.random() * 1100).toFixed(0) + 'ms';
					const rot = (240 + Math.random() * 720).toFixed(0) + 'deg';
					const color = colors[Math.floor(Math.random() * colors.length)];

					c.style.left = x + 'px';
					c.style.background = color;
					c.style.setProperty('--x', '0px');
					c.style.setProperty('--dx', dx);
					c.style.setProperty('--fall', fall);
					c.style.setProperty('--rot', rot);
					c.style.width = (6 + Math.random() * 10).toFixed(0) + 'px';
					c.style.height = (8 + Math.random() * 16).toFixed(0) + 'px';
					c.style.borderRadius = Math.random() < 0.35 ? '999px' : '3px';

					confettiLayer.appendChild(c);
					window.setTimeout(() => c.remove(), 2200);
				}
			}

			function shakeCard() {
				card.classList.remove('shake');
				// Force reflow so the animation restarts
				void card.offsetWidth;
				card.classList.add('shake');
			}

			function showSticker(text) {
				stickerText.textContent = text;
				sticker.classList.remove('show');
				void sticker.offsetWidth;
				sticker.classList.add('show');
				window.setTimeout(() => sticker.classList.remove('show'), 900);
			}

			function playPop() {
				try {
					const AudioContext = window.AudioContext || window.webkitAudioContext;
					if (!AudioContext) return;
					const ctx = new AudioContext();
					const o = ctx.createOscillator();
					const g = ctx.createGain();
					o.type = 'triangle';
					o.frequency.setValueAtTime(560 + Math.random() * 120, ctx.currentTime);
					g.gain.setValueAtTime(0.0001, ctx.currentTime);
					g.gain.exponentialRampToValueAtTime(0.08, ctx.currentTime + 0.01);
					g.gain.exponentialRampToValueAtTime(0.0001, ctx.currentTime + 0.12);
					o.connect(g);
					g.connect(ctx.destination);
					o.start();
					o.stop(ctx.currentTime + 0.13);
					window.setTimeout(() => ctx.close(), 220);
				} catch {
					// Ignore audio errors (autoplay policy, etc.)
				}
			}

			function spawnBurst(fromEl, intensity) {
				const rect = playground.getBoundingClientRect();
				const r = fromEl.getBoundingClientRect();
				const originX = r.left - rect.left + r.width / 2;
				const originY = r.top - rect.top + r.height / 2;

				const count = clamp(10 + intensity * 6, 10, 46);
				for (let i = 0; i < count; i += 1) {
					const p = document.createElement('div');
					p.className = 'burst';
					p.innerHTML = heartSvg;
					const size = 8 + Math.random() * (10 + intensity * 2.5);
					p.style.width = size + 'px';
					p.style.height = size + 'px';
					p.style.left = originX + 'px';
					p.style.top = originY + 'px';

					const angle = Math.random() * Math.PI * 2;
					const distance = 50 + Math.random() * (70 + intensity * 18);
					const dx = Math.cos(angle) * distance;
					const dy = Math.sin(angle) * distance;
					p.style.setProperty('--dx', `${dx}px`);
					p.style.setProperty('--dy', `${dy}px`);
					p.style.opacity = String(0.95 - Math.random() * 0.25);

					playground.appendChild(p);
					window.setTimeout(() => p.remove(), 800);
				}
			}

			function onNoAttempt(trigger) {
				if (!noEnabled) return;
				noCount += 1;
				chaosLevel = clamp(chaosLevel + 1, 0, 12);

				const joke = jokes[(noCount - 1) % jokes.length];
				setStatus('Nope Detected', `${joke} (attempt #${noCount})`);

				growYesButton();
				shakeCard();
				playPop();
				spawnBurst(noBtn, chaosLevel);

				const stickerLine = stickerLines[(noCount - 1) % stickerLines.length];
				showSticker(stickerLine);

				// Extra chaos: button keeps relocating faster over time
				moveNoButton();
				if (chaosLevel >= 4) {
					window.setTimeout(moveNoButton, 60);
				}
				if (chaosLevel >= 7) {
					window.setTimeout(moveNoButton, 140);
				}

				if (noCount >= 8) {
					noEnabled = false;
					noBtn.disabled = true;
					noBtn.style.opacity = '0.45';
					noBtn.style.cursor = 'not-allowed';
					setStatus('System Update', "'No' has been respectfully retired. Please select 'Yes'.");
				}

				// Make the background more chaotic: add more floating hearts as "No" rises.
				addFloatingHearts(clamp(2 + Math.floor(chaosLevel / 2), 2, 7));

				// On the 4th attempt, YES grows into a full-screen takeover.
				if (noCount >= takeoverAt) {
					enableYesTakeover();
				}
			}

			function celebrate() {
				setStatus('Confirmed', 'Best decision ever. üíû');
				throwConfetti();
				// Swap to a clean full-screen success view (bear gif + thank you only).
				success.classList.add('show');
				wrap.style.display = 'none';
				heartsLayer.style.display = 'none';
				// Ensure takeover button doesn't cover the success screen.
				yesBtn.classList.remove('yes-takeover');
				yesBtn.style.display = 'none';
				noBtn.style.display = 'none';
			}

			yesBtn.addEventListener('click', () => {
				celebrate();
			});

			// Make "No" hard to press: it jumps away on hover/focus.
			noBtn.addEventListener('pointerenter', () => onNoAttempt('hover'));
			noBtn.addEventListener('focus', () => onNoAttempt('focus'));
			noBtn.addEventListener('click', (e) => {
				// Prevent the click from feeling successful.
				e.preventDefault();
				e.stopPropagation();
				onNoAttempt('click');
			});

			// Hearts background
			const hearts = document.getElementById('hearts');
			function createFloatingHeart() {
				const h = document.createElement('div');
				h.className = 'heart';
				const img = document.createElement('img');
				img.alt = '';
				img.decoding = 'async';
				img.loading = 'lazy';
				img.src = pickRandom(floatingHeartSvgs);
				h.appendChild(img);

				const left = Math.random() * 100;
				// More variety: mostly small/medium, sometimes BIG.
				const roll = Math.random();
				const size =
					roll < 0.14
						? 46 + Math.random() * 34
						: roll < 0.45
							? 18 + Math.random() * 22
							: 10 + Math.random() * 16;

				// Big hearts float a bit slower so they feel dreamy.
				const duration =
					size >= 46
						? 18 + Math.random() * 16
						: 11 + Math.random() * 16;
				const delay = -Math.random() * duration;
				const sway = (Math.random() < 0.5 ? -1 : 1) * (10 + Math.random() * 26);
				const swayDur = 2.6 + Math.random() * 3.8;
				const rot = (-12 + Math.random() * 24).toFixed(1);
				const alpha = 0.18 + Math.random() * 0.22;

				h.style.left = left + 'vw';
				// Start just below the screen so they "rise" all the way through.
				h.style.bottom = (-20 - Math.random() * 140) + 'px';
				h.style.setProperty('--size', size + 'px');
				h.style.setProperty('--dur', duration + 's');
				h.style.animationDelay = delay + 's';
				h.style.setProperty('--sway', sway + 'px');
				h.style.setProperty('--swayDur', swayDur + 's');
				h.style.setProperty('--rot', rot + 'deg');
				h.style.setProperty('--alpha', String(alpha));

				hearts.appendChild(h);

				// Cleanup after it floats past the top (duration + buffer)
				window.setTimeout(() => h.remove(), (duration + 3) * 1000);
			}

			function addFloatingHearts(count) {
				for (let i = 0; i < count; i += 1) {
					createFloatingHeart();
				}
			}

			// Initial hearts (more, with bigger variety)
			addFloatingHearts(70);

			// Initialize: keep "No" inside the playground nicely.
			// (Wait a tick so layout is stable.)
			window.requestAnimationFrame(() => {
				moveNoButton();
				yesBtn.style.setProperty('--yes-scale', String(yesScale));
			});
		</script>
	</body>
</html>

